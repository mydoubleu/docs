import{r as e,o as p,c as t,a as s,d as l,F as o,b as n,e as c}from"./app.3826fdf0.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const i={},d=s("h1",{id:"mariadb-\u1109\u1165\u11AF\u110E\u1175",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#mariadb-\u1109\u1165\u11AF\u110E\u1175","aria-hidden":"true"},"#"),n(" MariaDB \uC124\uCE58")],-1),u={href:"https://mariadb.org/download/",target:"_blank",rel:"noopener noreferrer"},k=n("https://mariadb.org/download/"),b=c(`<h2 id="\u110C\u1165\u110C\u1161\u11BC\u1109\u1169-\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u110C\u1165\u110C\u1161\u11BC\u1109\u1169-\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> \uC800\uC7A5\uC18C \uC124\uC815</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/yum.repos.d/MariaDB.repo
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># MariaDB 10.5 CentOS repository list - created 2021-09-08 11:00 UTC
# https://mariadb.org/download/
[mariadb]
name = MariaDB
baseurl = https://mirror.yongbok.net/mariadb/yum/10.5/centos7-amd64
gpgkey=https://mirror.yongbok.net/mariadb/yum/RPM-GPG-KEY-MariaDB
gpgcheck=1
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="\u1109\u1165\u11AF\u110E\u1175-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11AF\u110E\u1175-\u1106\u1175\u11BE-\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> \uC124\uCE58 \uBC0F \uC124\uC815</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> MariaDB-server MariaDB-client
<span class="token function">vi</span> /etc/my.cnf.d/server.cnf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\uC11C\uBC84 \uC0AC\uC591\uC5D0 \uB530\uB77C \uC124\uC815\uAC12 \uBCC0\uACBD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[mysqld]
max_connections=250
innodb_buffer_pool_size=20480M
innodb_log_file_size=256M
innodb_log_files_in_group=3
innodb_flush_log_at_trx_commit=2
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
event_scheduler=ON
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/my.cnf.d/mysql-clients.cnf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[mysql]
default-character-set=utf8mb4
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> mariadb
systemctl start mariadb
mysql_secure_installation
mysql -u root -p
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\uC544\uB798 \uCFFC\uB9AC\uC5D0\uC11C \uC791\uC5C5 PC\uC758 IP\uB85C \uBCC0\uACBD</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;192.168.0.2&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;temp&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;192.168.0.2&#39;</span> <span class="token keyword">with</span> <span class="token keyword">grant</span> <span class="token keyword">option</span><span class="token punctuation">;</span> <span class="token comment">-- identified by &#39;temp&#39;;</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
\\q
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>HeidiSQL \uB4F1\uC758 \uD234\uB85C \uC811\uC18D \uD6C4 \uBE44\uBC00\uBC88\uD638 \uBCC0\uACBD</p><h2 id="data-\u1103\u1175\u1105\u1166\u11A8\u1110\u1169\u1105\u1175-\u110B\u1175\u1103\u1169\u11BC" tabindex="-1"><a class="header-anchor" href="#data-\u1103\u1175\u1105\u1166\u11A8\u1110\u1169\u1105\u1175-\u110B\u1175\u1103\u1169\u11BC" aria-hidden="true">#</a> data \uB514\uB809\uD1A0\uB9AC \uC774\uB3D9</h2><h3 id="data-\u110B\u1161\u1105\u1162\u1105\u1169-\u110B\u1169\u11B1\u1100\u1175\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#data-\u110B\u1161\u1105\u1162\u1105\u1169-\u110B\u1169\u11B1\u1100\u1175\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> /data \uC544\uB798\uB85C \uC62E\uAE30\uB294 \uACBD\uC6B0</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl stop mariadb
<span class="token builtin class-name">cd</span> /var/lib
<span class="token function">mv</span> mysql /data/
<span class="token function">ln</span> -s /data/mysql mysql
systemctl start mariadb
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="home-\u110B\u1161\u1105\u1162\u1105\u1169-\u110B\u1169\u11B1\u1100\u1175\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#home-\u110B\u1161\u1105\u1162\u1105\u1169-\u110B\u1169\u11B1\u1100\u1175\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> /home \uC544\uB798\uB85C \uC62E\uAE30\uB294 \uACBD\uC6B0</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl stop mariadb
<span class="token builtin class-name">cd</span> /var/lib
<span class="token function">mv</span> mysql /home/
<span class="token function">ln</span> -s /home/mysql mysql
<span class="token function">vi</span> /usr/lib/systemd/system/mysqld.service
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>ProtectHome=false</code>\uB85C \uC218\uC815</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>systemctl daemon-reload
systemctl start mariadb
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="\u1107\u1161\u11BC\u1112\u116A\u1107\u1167\u11A8-\u1109\u1165\u11AF\u110C\u1165\u11BC-optional" tabindex="-1"><a class="header-anchor" href="#\u1107\u1161\u11BC\u1112\u116A\u1107\u1167\u11A8-\u1109\u1165\u11AF\u110C\u1165\u11BC-optional" aria-hidden="true">#</a> \uBC29\uD654\uBCBD \uC124\uC815 (Optional)</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firewall-cmd --permanent --zone<span class="token operator">=</span>public --add-service<span class="token operator">=</span>mysql
firewall-cmd --reload
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="\u1111\u1161\u1110\u1175\u1109\u1167\u11AB-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1111\u1161\u1110\u1175\u1109\u1167\u11AB-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> \uD30C\uD2F0\uC158 \uC0DD\uC131</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>TABLE_NAME<span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> RANGE <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span>dtm<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>
   <span class="token keyword">PARTITION</span> p202010 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2020-11-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> p202011 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2020-12-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> p202012 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2021-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> pMax <span class="token keyword">VALUES</span> LESS THAN MAXVALUE <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="\u1111\u1161\u1110\u1175\u1109\u1167\u11AB-\u110E\u116E\u1100\u1161" tabindex="-1"><a class="header-anchor" href="#\u1111\u1161\u1110\u1175\u1109\u1167\u11AB-\u110E\u116E\u1100\u1161" aria-hidden="true">#</a> \uD30C\uD2F0\uC158 \uCD94\uAC00</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>TABLE_NAME<span class="token punctuation">]</span> REORGANIZE <span class="token keyword">PARTITION</span> pMax <span class="token keyword">INTO</span> <span class="token punctuation">(</span>
   <span class="token keyword">PARTITION</span> p202201 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2022-04-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> p202204 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2022-07-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> p202207 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2022-10-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> p202210 <span class="token keyword">VALUES</span> LESS THAN <span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span><span class="token punctuation">,</span>
   <span class="token keyword">PARTITION</span> pMax <span class="token keyword">VALUES</span> LESS THAN MAXVALUE <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">INNODB</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,26);function m(h,y){const a=e("ExternalLinkIcon");return p(),t(o,null,[d,s("p",null,[s("a",u,[k,l(a)])]),b],64)}var N=r(i,[["render",m]]);export{N as default};
